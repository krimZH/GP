#IPv4网络的数据包流

首先假设有这么一个场景，主机A需要发送一条请求到www.baidu.com
###Step1: 获取自身ID地址，一般来说是开机的时候自动调用查询DHCP服务器获取的
    DCHP服务器会返回一些必要的信息，如IP，子网、网关、DNS等
###Step2：查询DNS服务器，www.baidu.com对应的IP地址
    比如返回了115.239.210.27
###Step3：ARP请求
    重点：计算机发现从DNS返回的IP地址不是自己的子网，于是需要将请求发送给网关。在这种场景下网关可以使一台路由器或者一台代理服务器。尽管计算机知道网关的IP地址(DCHP返回的),但是计算机并不是通过IP地址交换数据的，而是需要知道网关的硬件地址，硬件地址就是链路层厂家硬编码的MAC地址(网卡上的MAC)。
    于是为了获取网关的MAC地址，客户端计算机广播了一个ARP请求：“哪台助记是这个IP地址的拥有者？”网关会响应这个ARP请求并发送其MAC地址。收到网关的MAC地址后，计算机将数据包发送给网关。这个时候网关也先查一下需要传输的IP地址，通过一些路由算法得出路由的线路，于是发给自己的下一跳路由，经过同样的过程，最后找到了直接连接115.238.210.27的路由器，这时也同样会发送一个ARP请求，115.23.210.27会返回自己的MAC，最后请求被发送到MAC对应的地址
